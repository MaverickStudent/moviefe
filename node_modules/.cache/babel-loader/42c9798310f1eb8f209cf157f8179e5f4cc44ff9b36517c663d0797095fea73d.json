{"ast":null,"code":"import axios from 'axios';\n\n/* 'http://localhost:8000' http://127.0.0.1:8000/ or 'https://movies-groyce.pythonanywhere.com/'*/\nconst API_URL = 'https://maverickstudent.pythonanywhere.com/';\nexport class APIService {\n  constructor() {}\n  getMovie(param_pk) {\n    const url = `${API_URL}/api/movies/${param_pk}`;\n    let jwtToken = localStorage.getItem('token');\n    console.log(\":::jwtToken:::::\" + jwtToken);\n    const headers = {\n      Authorization: `jwt ${jwtToken}`\n    };\n    return axios.get(url, {\n      headers: {\n        Authorization: `jwt ${jwtToken}`\n      }\n    });\n  }\n  getMovieList() {\n    const url = `${API_URL}/api/movies/`;\n    let jwtToken = localStorage.getItem('token');\n    console.log(\":::jwtToken:::::\" + jwtToken);\n    const headers = {\n      Authorization: `jwt ${jwtToken}`\n    };\n    return axios.get(url, {\n      headers: headers\n    });\n  }\n  addNewMovie(movie) {\n    const url = `${API_URL}/api/movies/`;\n    let jwtToken = localStorage.getItem('token');\n    const headers = {\n      Authorization: `jwt ${jwtToken}`\n    };\n    return axios.post(url, movie, {\n      headers: headers\n    });\n  }\n  updateMovie(movie) {\n    const url = `${API_URL}/api/movies/${movie.pk}`;\n    let jwtToken = localStorage.getItem('token');\n    const headers = {\n      Authorization: `jwt ${jwtToken}`\n    };\n    return axios.put(url, movie, {\n      headers: headers\n    });\n  }\n  deleteMovie(movie_Pk) {\n    const url = `${API_URL}/api/movies/${movie_Pk}`;\n    let jwtToken = localStorage.getItem('token');\n    const headers = {\n      Authorization: `jwt ${jwtToken}`\n    };\n    return axios.delete(url, {\n      headers: headers\n    });\n  }\n  authenticateLogin(credentials) {\n    const url = `${API_URL}/auth/`;\n    return axios.post(url, credentials);\n  }\n  registerUser(credentials) {\n    const url = `${API_URL}/register/`;\n    credentials.customusername = credentials.username;\n    return axios.post(url, credentials);\n  }\n}","map":{"version":3,"names":["axios","API_URL","APIService","constructor","getMovie","param_pk","url","jwtToken","localStorage","getItem","console","log","headers","Authorization","get","getMovieList","addNewMovie","movie","post","updateMovie","pk","put","deleteMovie","movie_Pk","delete","authenticateLogin","credentials","registerUser","customusername","username"],"sources":["E:/Documents/Education/UNO/Courses/Spring 2023/ISQA 4900/Assignments/Assignment 2/movie-api/movie-fe/src/http/APIService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n/* 'http://localhost:8000' http://127.0.0.1:8000/ or 'https://movies-groyce.pythonanywhere.com/'*/\r\nconst API_URL = 'https://maverickstudent.pythonanywhere.com/';\r\n\r\nexport class APIService {\r\n    constructor() {\r\n\r\n    }\r\n    getMovie(param_pk) {\r\n        const url = `${API_URL}/api/movies/${param_pk}`;\r\n        let jwtToken = localStorage.getItem('token');\r\n        console.log(\":::jwtToken:::::\"+jwtToken);\r\n        const headers = {Authorization: `jwt ${jwtToken}`};\r\n        return axios.get(url, {headers: {Authorization: `jwt ${jwtToken}`}});\r\n    }\r\n    getMovieList() {\r\n        const url = `${API_URL}/api/movies/`;\r\n        let jwtToken = localStorage.getItem('token');\r\n        console.log(\":::jwtToken:::::\"+jwtToken);\r\n        const headers = {Authorization: `jwt ${jwtToken}`};\r\n        return axios.get(url, {headers: headers});\r\n    }\r\n    addNewMovie(movie){\r\n        const url = `${API_URL}/api/movies/`;\r\n        let jwtToken = localStorage.getItem('token');\r\n        const headers = {Authorization: `jwt ${jwtToken}`};\r\n        return axios.post(url, movie, {headers: headers});\r\n    }\r\n    updateMovie(movie){\r\n        const url = `${API_URL}/api/movies/${movie.pk}`;\r\n        let jwtToken = localStorage.getItem('token');\r\n        const headers = {Authorization: `jwt ${jwtToken}`};\r\n        return axios.put(url, movie, {headers: headers});\r\n    }\r\n    deleteMovie(movie_Pk){\r\n        const url = `${API_URL}/api/movies/${movie_Pk}`;\r\n        let jwtToken = localStorage.getItem('token');\r\n        const headers = {Authorization: `jwt ${jwtToken}`};\r\n        return axios.delete(url, {headers: headers});\r\n    }\r\n    authenticateLogin(credentials) {\r\n        const url = `${API_URL}/auth/`;\r\n        return axios.post(url, credentials);\r\n    }\r\n    registerUser(credentials) {\r\n        const url = `${API_URL}/register/`;\r\n        credentials.customusername = credentials.username\r\n        return axios.post(url, credentials);\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,OAAO,GAAG,6CAA6C;AAE7D,OAAO,MAAMC,UAAU,CAAC;EACpBC,WAAW,GAAG,CAEd;EACAC,QAAQ,CAACC,QAAQ,EAAE;IACf,MAAMC,GAAG,GAAI,GAAEL,OAAQ,eAAcI,QAAS,EAAC;IAC/C,IAAIE,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC5CC,OAAO,CAACC,GAAG,CAAC,kBAAkB,GAACJ,QAAQ,CAAC;IACxC,MAAMK,OAAO,GAAG;MAACC,aAAa,EAAG,OAAMN,QAAS;IAAC,CAAC;IAClD,OAAOP,KAAK,CAACc,GAAG,CAACR,GAAG,EAAE;MAACM,OAAO,EAAE;QAACC,aAAa,EAAG,OAAMN,QAAS;MAAC;IAAC,CAAC,CAAC;EACxE;EACAQ,YAAY,GAAG;IACX,MAAMT,GAAG,GAAI,GAAEL,OAAQ,cAAa;IACpC,IAAIM,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC5CC,OAAO,CAACC,GAAG,CAAC,kBAAkB,GAACJ,QAAQ,CAAC;IACxC,MAAMK,OAAO,GAAG;MAACC,aAAa,EAAG,OAAMN,QAAS;IAAC,CAAC;IAClD,OAAOP,KAAK,CAACc,GAAG,CAACR,GAAG,EAAE;MAACM,OAAO,EAAEA;IAAO,CAAC,CAAC;EAC7C;EACAI,WAAW,CAACC,KAAK,EAAC;IACd,MAAMX,GAAG,GAAI,GAAEL,OAAQ,cAAa;IACpC,IAAIM,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC5C,MAAMG,OAAO,GAAG;MAACC,aAAa,EAAG,OAAMN,QAAS;IAAC,CAAC;IAClD,OAAOP,KAAK,CAACkB,IAAI,CAACZ,GAAG,EAAEW,KAAK,EAAE;MAACL,OAAO,EAAEA;IAAO,CAAC,CAAC;EACrD;EACAO,WAAW,CAACF,KAAK,EAAC;IACd,MAAMX,GAAG,GAAI,GAAEL,OAAQ,eAAcgB,KAAK,CAACG,EAAG,EAAC;IAC/C,IAAIb,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC5C,MAAMG,OAAO,GAAG;MAACC,aAAa,EAAG,OAAMN,QAAS;IAAC,CAAC;IAClD,OAAOP,KAAK,CAACqB,GAAG,CAACf,GAAG,EAAEW,KAAK,EAAE;MAACL,OAAO,EAAEA;IAAO,CAAC,CAAC;EACpD;EACAU,WAAW,CAACC,QAAQ,EAAC;IACjB,MAAMjB,GAAG,GAAI,GAAEL,OAAQ,eAAcsB,QAAS,EAAC;IAC/C,IAAIhB,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC5C,MAAMG,OAAO,GAAG;MAACC,aAAa,EAAG,OAAMN,QAAS;IAAC,CAAC;IAClD,OAAOP,KAAK,CAACwB,MAAM,CAAClB,GAAG,EAAE;MAACM,OAAO,EAAEA;IAAO,CAAC,CAAC;EAChD;EACAa,iBAAiB,CAACC,WAAW,EAAE;IAC3B,MAAMpB,GAAG,GAAI,GAAEL,OAAQ,QAAO;IAC9B,OAAOD,KAAK,CAACkB,IAAI,CAACZ,GAAG,EAAEoB,WAAW,CAAC;EACvC;EACAC,YAAY,CAACD,WAAW,EAAE;IACtB,MAAMpB,GAAG,GAAI,GAAEL,OAAQ,YAAW;IAClCyB,WAAW,CAACE,cAAc,GAAGF,WAAW,CAACG,QAAQ;IACjD,OAAO7B,KAAK,CAACkB,IAAI,CAACZ,GAAG,EAAEoB,WAAW,CAAC;EACvC;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}