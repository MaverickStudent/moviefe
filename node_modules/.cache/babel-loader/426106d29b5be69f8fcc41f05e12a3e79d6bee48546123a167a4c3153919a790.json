{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"nav justify-content-center\"\n};\nconst _hoisted_2 = {\n  class: \"nav-item active\"\n};\nconst _hoisted_3 = {\n  class: \"nav-item\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" Nav Bar\"), _createElementVNode(\"ul\", _hoisted_1, [_createElementVNode(\"li\", _hoisted_2, [_createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Home\")]),\n    _: 1 /* STABLE */\n  }), _createTextVNode(\" | \")]), _createElementVNode(\"li\", _hoisted_3, [_createVNode(_component_router_link, {\n    to: {\n      name: 'MovieList'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Movies\")]),\n    _: 1 /* STABLE */\n  })]), !_ctx.authenticated ? (_openBlock(), _createElementBlock(\"li\", {\n    key: 0,\n    class: \"nav-item\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.login && $options.login(...args))\n  }, [_createTextVNode(\" | \"), _createVNode(_component_router_link, {\n    to: {\n      name: 'Auth'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Log in\")]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), !_ctx.authenticated ? (_openBlock(), _createElementBlock(\"li\", {\n    key: 1,\n    class: \"nav-item\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.register && $options.register(...args))\n  }, [_createTextVNode(\" | \"), _createVNode(_component_router_link, {\n    to: {\n      name: 'Register'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Register\")]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), _ctx.authenticated ? (_openBlock(), _createElementBlock(\"li\", {\n    key: 2,\n    class: \"nav-item .justify-content-end\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.logout && $options.logout(...args))\n  }, [_createTextVNode(\" | \"), _createVNode(_component_router_link, {\n    to: {\n      name: 'Auth'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Logout\")]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true)]), _createVNode(_component_router_view)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":";;EAEQA,KAAK,EAAC;AAA4B;;EAChCA,KAAK,EAAC;AAAiB;;EAIvBA,KAAK,EAAC;AAAU;;;;6DANtBC,+BAAe,EACfC,oBAoBK,MApBLC,UAoBK,GAnBHD,oBAGK,MAHLE,UAGK,GAFHC,aAAsCC;IAAzBC,EAAE,EAAC;EAAG;sBAAC,MAAI,kBAAJ,MAAI;;uBAAc,KAExC,KACAL,oBAEK,MAFLM,UAEK,GADHH,aAA2DC;IAA7CC,EAAE,EAAE;MAAAE;IAAA;EAAmB;sBAAE,MAAM,kBAAN,QAAM;;SAEnBC,kBAAa,kBAAzCC,oBAGK;;IAHDX,KAAK,EAAC,UAAU;IAAwBY,OAAK,yCAAEC,yCAAK;uBAAG,KAEzD,gBAAsDP;IAAxCC,EAAE,EAAE;MAAAE;IAAA;EAAc;sBAAE,MAAM,kBAAN,QAAM;;8CAEdC,kBAAa,kBAAzCC,oBAGK;;IAHDX,KAAK,EAAC,UAAU;IAAwBY,OAAK,yCAAEC,+CAAQ;uBAAE,KAE3D,gBAA4DP;IAA9CC,EAAE,EAAE;MAAAE;IAAA;EAAkB;sBAAE,MAAQ,kBAAR,UAAQ;;6CAEAC,kBAAa,kBAA7DC,oBAGK;;IAHDX,KAAK,EAAC,+BAA+B;IAAuBY,OAAK,yCAAEC,2CAAM;uBAAG,KAE9E,gBAAsDP;IAAxCC,EAAE,EAAE;MAAAE;IAAA;EAAc;sBAAE,MAAM,kBAAN,QAAM;;+CAG9CJ,aAAcS","names":["class","_createCommentVNode","_createElementVNode","_hoisted_1","_hoisted_2","_createVNode","_component_router_link","to","_hoisted_3","name","_ctx","_createElementBlock","onClick","$options","_component_router_view"],"sourceRoot":"","sources":["E:\\Documents\\Education\\UNO\\Courses\\Spring 2023\\ISQA 4900\\Assignments\\Assignment 2\\movie-api\\movie-fe\\src\\App.vue"],"sourcesContent":["<template>\n    <!-- Nav Bar-->\n    <ul class=\"nav justify-content-center\">\n      <li class=\"nav-item active\">\n        <router-link to=\"/\">Home</router-link>\n        |\n      </li>\n      <li class=\"nav-item\">\n        <router-link :to=\"{name: 'MovieList'}\">Movies</router-link>\n      </li>\n      <li class=\"nav-item\" v-if=\"!authenticated\" @click=\"login\" >\n        |\n        <router-link :to=\"{name: 'Auth'}\">Log in</router-link>\n      </li>\n      <li class=\"nav-item\" v-if=\"!authenticated\" @click=\"register\">\n        |\n        <router-link :to=\"{name: 'Register'}\">Register</router-link>\n      </li>\n      <li class=\"nav-item .justify-content-end\" v-if=\"authenticated\" @click=\"logout\" >\n        |\n        <router-link :to=\"{name: 'Auth'}\">Logout</router-link>\n      </li>\n    </ul>\n  <router-view/>\n</template>\n\n<script>\n\nimport router from \"./router\";\nimport { APIService } from \"./http/APIService\";\n\nconst apiService = new APIService();\n\nexport default {\n  name: 'App',\n  props: {\n    msg: String\n  },\n  data: () => ({\n    authenticated: false,\n    dialog: false,\n    uName: \"Guest\",\n    menu: [],\n  }),\n  mounted() {\n    this.fillMenu();\n    apiService\n        .getMovieList()\n        .then((response) => {\n          this.authenticated = true;\n        })\n        .catch((error) => {\n          if (error.response.status === 401) {\n            localStorage.removeItem(\"isAuthenticates\");\n            localStorage.removeItem(\"log_user\");\n            localStorage.removeItem(\"token\");\n            this.authenticated = false;\n          }\n        });\n    console.log(\"this.authenticated--\" + this.authenticated);\n  },\n  methods: {\n    fillMenu() {\n      if (localStorage.getItem(\"isAuthenticates\") &&\n          JSON.parse(localStorage.getItem(\"isAuthenticates\")) === true )\n      {\n        console.log(\"IS AUTH\");\n        this.uName = JSON.parse(localStorage.getItem(\"log_user\"));\n      } else {\n        console.log(\"IS NOT AUTH\");\n      }\n      this.menu = [{ title: \"Movies\", url: \"/movie-list\" }];\n    },\n  getUser() {\n      if (\n          localStorage.getItem(\"isAuthenticates\") &&\n          JSON.parse(localStorage.getItem(\"isAuthenticates\")) === true)\n      {\n        console.log(\"IS AUTH\");\n        this.validUserName = JSON.parse(localStorage.getItem(\"log_user\"));\n      } else {\n        console.log(\"IS NOT AUTH\");\n      }\n    },\n    logout() {\n      localStorage.removeItem(\"isAuthenticates\");\n      localStorage.removeItem(\"log_user\");\n      localStorage.removeItem(\"token\");\n      this.authenticated = false;\n      // router.push('/');\n      window.location = \"/\";\n    },\n    home() {\n      window.location = \"/\";\n    },\n    register() {\n      router.push(\"/register\");\n    },\n    login() {\n      router.push(\"/auth\");\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\n  #app {\n    font-family: Avenir, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n  }\n\n  #nav {\n    padding: 30px;\n    background-color: cadetblue;\n\n    a\t{\n      font-weight: bold;\n      color: #2c3e50;\n\n      &.router-link-exact-active {\n        color: #42b983;\n      }\n    }\n  }\n  .nav {\n    padding: 1em;\n    background-color: cadetblue;\n\n    li {\n      font-weight: bold;\n      color: #2c3e50;\n    }\n\n    a {\n      color: black;\n      padding: .5em;\n\n      &.router-link-exact-active {\n        color: #42b983;\n      }\n    }\n  }\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}