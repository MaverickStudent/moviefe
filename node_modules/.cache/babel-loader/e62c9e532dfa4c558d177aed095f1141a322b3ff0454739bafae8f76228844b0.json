{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport router from \"./router\";\nimport { APIService } from \"./http/APIService\";\nconst apiService = new APIService();\nexport default {\n  name: 'App',\n  props: {\n    msg: String\n  },\n  data: () => ({\n    authenticated: false,\n    dialog: false,\n    uName: \"Guest\",\n    menu: []\n  }),\n  mounted() {\n    this.fillMenu();\n    apiService.getMovieList().then(response => {\n      this.authenticated = true;\n    }).catch(error => {\n      if (error.response.status === 401) {\n        localStorage.removeItem(\"isAuthenticates\");\n        localStorage.removeItem(\"log_user\");\n        localStorage.removeItem(\"token\");\n        this.authenticated = false;\n      }\n    });\n    console.log(\"this.authenticated--\" + this.authenticated);\n  },\n  methods: {\n    fillMenu() {\n      if (localStorage.getItem(\"isAuthenticates\") && JSON.parse(localStorage.getItem(\"isAuthenticates\")) === true) {\n        console.log(\"IS AUTH\");\n        this.uName = JSON.parse(localStorage.getItem(\"log_user\"));\n      } else {\n        console.log(\"IS NOT AUTH\");\n      }\n      this.menu = [{\n        title: \"Movies\",\n        url: \"/movie-list\"\n      }];\n    },\n    getUser() {\n      if (localStorage.getItem(\"isAuthenticates\") && JSON.parse(localStorage.getItem(\"isAuthenticates\")) === true) {\n        console.log(\"IS AUTH\");\n        this.validUserName = JSON.parse(localStorage.getItem(\"log_user\"));\n      } else {\n        console.log(\"IS NOT AUTH\");\n      }\n    },\n    logout() {\n      localStorage.removeItem(\"isAuthenticates\");\n      localStorage.removeItem(\"log_user\");\n      localStorage.removeItem(\"token\");\n      this.authenticated = false;\n\n      //\trouter.push('/'); window.location = \"/\";\n    },\n\n    home() {\n      window.location = \"/\";\n    },\n    register() {\n      router.push(\"/register\");\n    },\n    login() {\n      router.push(\"/auth\");\n    }\n  }\n};","map":{"version":3,"mappings":";AA8BA,OAAOA,MAAK,MAAO,UAAU;AAC7B,SAASC,UAAS,QAAS,mBAAmB;AAE9C,MAAMC,UAAS,GAAI,IAAID,UAAU,EAAE;AAEnC,eAAe;EACfE,IAAI,EAAE,KAAK;EAEXC,KAAK,EAAE;IAEPC,GAAG,EAAEC;EACL,CAAC;EAEDC,IAAI,EAAE,OAAO;IACbC,aAAa,EAAE,KAAK;IACpBC,MAAM,EAAE,KAAK;IAEbC,KAAK,EAAE,OAAO;IACdC,IAAI,EAAE;EAEN,CAAC,CAAC;EAEFC,OAAO,GAAG;IACV,IAAI,CAACC,QAAQ,EAAE;IAEfX,UAAS,CACRY,YAAY,EAAC,CAEbC,IAAI,CAAEC,QAAQ,IAAK;MAEpB,IAAI,CAACR,aAAY,GAAI,IAAI;IACzB,CAAC,EAEAS,KAAK,CAAEC,KAAK,IAAK;MAClB,IAAIA,KAAK,CAACF,QAAQ,CAACG,MAAK,KAAM,GAAG,EAAE;QAEnCC,YAAY,CAACC,UAAU,CAAC,iBAAiB,CAAC;QAE1CD,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC;QACnCD,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;QAEhC,IAAI,CAACb,aAAY,GAAI,KAAK;MAC1B;IAEA,CAAC,CAAC;IACFc,OAAO,CAACC,GAAG,CAAC,sBAAqB,GAAI,IAAI,CAACf,aAAa,CAAC;EAExD,CAAC;EAEDgB,OAAO,EAAE;IACTX,QAAQ,GAAG;MAEX,IAEAO,YAAY,CAACK,OAAO,CAAC,iBAAiB,KAAKC,IAAI,CAACC,KAAK,CAACP,YAAY,CAACK,OAAO,CAAC,iBAAiB,CAAC,MAAM,IAAG,EAAI;QAC1GH,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;QAEtB,IAAI,CAACb,KAAI,GAAIgB,IAAI,CAACC,KAAK,CAACP,YAAY,CAACK,OAAO,CAAC,UAAU,CAAC,CAAC;MACzD,OAAO;QAEPH,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;MAE1B;MACA,IAAI,CAACZ,IAAG,GAAI,CAAC;QAAEiB,KAAK,EAAE,QAAQ;QAAEC,GAAG,EAAE;MAAc,CAAC,CAAC;IAErD,CAAC;IACDC,OAAO,GAAG;MAEV,IAEAV,YAAY,CAACK,OAAO,CAAC,iBAAiB,KACtCC,IAAI,CAACC,KAAK,CAACP,YAAY,CAACK,OAAO,CAAC,iBAAiB,CAAC,MAAM,IAAG,EAEzD;QACFH,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;QAEtB,IAAI,CAACQ,aAAY,GAAIL,IAAI,CAACC,KAAK,CAACP,YAAY,CAACK,OAAO,CAAC,UAAU,CAAC,CAAC;MAEjE,OAAO;QACPH,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;MAE1B;IACA,CAAC;IACDS,MAAM,GAAG;MAETZ,YAAY,CAACC,UAAU,CAAC,iBAAiB,CAAC;MAE1CD,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC;MACnCD,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;MAEhC,IAAI,CAACb,aAAY,GAAI,KAAK;;MAE1B;IAEA,CAAC;;IACDyB,IAAI,GAAG;MAEPC,MAAM,CAACC,QAAO,GAAI,GAAG;IAErB,CAAC;IACDC,QAAQ,GAAG;MAEXpC,MAAM,CAACqC,IAAI,CAAC,WAAW,CAAC;IACxB,CAAC;IAEDC,KAAK,GAAG;MAERtC,MAAM,CAACqC,IAAI,CAAC,OAAO,CAAC;IACpB;EAEA;AACA","names":["router","APIService","apiService","name","props","msg","String","data","authenticated","dialog","uName","menu","mounted","fillMenu","getMovieList","then","response","catch","error","status","localStorage","removeItem","console","log","methods","getItem","JSON","parse","title","url","getUser","validUserName","logout","home","window","location","register","push","login"],"sourceRoot":"","sources":["E:\\Documents\\Education\\UNO\\Courses\\Spring 2023\\ISQA 4900\\Assignments\\Assignment 2\\movie-api\\movie-fe\\src\\App.vue"],"sourcesContent":["<template>\n\n<ul class=\"nav justify-content-center\">\n<li class=\"nav-item active\">\n\n<router-link to=\"/\">Home</router-link> |\n\n</li>\n<li class=\"nav-item\">\n\n<router-link :to=\"{name: 'MovieList'}\">Movies</router-link> </li>\n\n<li class=\"nav-item\" v-if=\"!authenticated\" @click=\"login\" > | <router-link :to=\"{name: 'Auth'}\">Log in</router-link> </li>\n\n<li class=\"nav-item\" v-if=\"!authenticated\" @click=\"register\" > | <router-link :to=\"{name: 'Register'}\">Register</router-link> </li>\n\n<li class=\"nav-item .justify-content-end\" v-if=\"authenticated\" @click=\"logout\" > | <router-link :to=\"{name: 'Auth'}\">Logout</router-link> </li>\n\n</ul>\n\n\n<router-view/>\n\n</template>\n\n\n\n\n<script>\n\nimport router from \"./router\";\nimport { APIService } from \"./http/APIService\";\n\nconst apiService = new APIService();\n\nexport default {\nname: 'App',\n\nprops: {\n\nmsg: String\n},\n\ndata: () => ({\nauthenticated: false,\ndialog: false,\n\nuName: \"Guest\",\nmenu: [],\n\n}),\n\nmounted() {\nthis.fillMenu();\n\napiService\n.getMovieList()\n\n.then((response) => {\n\nthis.authenticated = true;\n})\n\n.catch((error) => {\nif (error.response.status === 401) {\n\nlocalStorage.removeItem(\"isAuthenticates\");\n\nlocalStorage.removeItem(\"log_user\");\nlocalStorage.removeItem(\"token\");\n\nthis.authenticated = false;\n}\n\n});\nconsole.log(\"this.authenticated--\" + this.authenticated);\n\n},\n\nmethods: {\nfillMenu() {\n\nif (\n\nlocalStorage.getItem(\"isAuthenticates\") && JSON.parse(localStorage.getItem(\"isAuthenticates\")) === true ) {\nconsole.log(\"IS AUTH\");\n\nthis.uName = JSON.parse(localStorage.getItem(\"log_user\"));\n} else {\n\nconsole.log(\"IS NOT AUTH\");\n\n}\nthis.menu = [{ title: \"Movies\", url: \"/movie-list\" }];\n\n},\ngetUser() {\n\nif (\n\nlocalStorage.getItem(\"isAuthenticates\") &&\nJSON.parse(localStorage.getItem(\"isAuthenticates\")) === true\n\n) {\nconsole.log(\"IS AUTH\");\n\nthis.validUserName = JSON.parse(localStorage.getItem(\"log_user\"));\n\n} else {\nconsole.log(\"IS NOT AUTH\");\n\n}\n},\nlogout() {\n\nlocalStorage.removeItem(\"isAuthenticates\");\n\nlocalStorage.removeItem(\"log_user\");\nlocalStorage.removeItem(\"token\");\n\nthis.authenticated = false;\n\n//\trouter.push('/'); window.location = \"/\";\n\n},\nhome() {\n\nwindow.location = \"/\";\n\n},\nregister() {\n\nrouter.push(\"/register\");\n},\n\nlogin() {\n\nrouter.push(\"/auth\");\n},\n\n},\n}\n\n</script>\n\n\n\n\n<style lang=\"scss\">\n\n#app {\nfont-family: Avenir, Helvetica, Arial, sans-serif;\n\n-webkit-font-smoothing: antialiased;\n-moz-osx-font-smoothing: grayscale;\n\ntext-align: center;\n\ncolor: #2c3e50;\n}\n\n#nav {\n\npadding: 30px;\nbackground-color: cadetblue;\n\na\t{\n\nfont-weight: bold;\ncolor: #2c3e50;\n\n&.router-link-exact-active {\n\ncolor: #42b983;\n}\n\n}\n}\n.nav {\npadding: 1em;\n\nbackground-color: cadetblue;\n\nli {\nfont-weight: bold;\n\ncolor: #2c3e50;\n}\n\na {\n\ncolor: black;\npadding: .5em;\n\n&.router-link-exact-active {\n\ncolor: #42b983;\n}\n\n}\n\n\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}