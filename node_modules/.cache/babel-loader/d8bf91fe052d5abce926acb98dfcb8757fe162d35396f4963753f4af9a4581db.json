{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport router from \"./router\";\nimport { APIService } from \"./http/APIService\";\nconst apiService = new APIService();\nexport default {\n  name: 'App',\n  props: {\n    msg: String\n  },\n  data: () => ({\n    authenticated: false,\n    dialog: false,\n    uName: \"Guest\",\n    menu: []\n  }),\n  mounted() {\n    this.fillMenu();\n    apiService.getMovieList().then(response => {\n      this.authenticated = true;\n    }).catch(error => {\n      if (error.response.status === 401) {\n        localStorage.removeItem(\"isAuthenticates\");\n        localStorage.removeItem(\"log_user\");\n        localStorage.removeItem(\"token\");\n        this.authenticated = false;\n      }\n    });\n    console.log(\"this.authenticated--\" + this.authenticated);\n  },\n  methods: {\n    fillMenu() {\n      if (localStorage.getItem(\"isAuthenticates\") && JSON.parse(localStorage.getItem(\"isAuthenticates\")) === true) {\n        console.log(\"IS AUTH\");\n        this.uName = JSON.parse(localStorage.getItem(\"log_user\"));\n      } else {\n        console.log(\"IS NOT AUTH\");\n      }\n      this.menu = [{\n        title: \"Movies\",\n        url: \"/movie-list\"\n      }];\n    },\n    getUser() {\n      if (localStorage.getItem(\"isAuthenticates\") && JSON.parse(localStorage.getItem(\"isAuthenticates\")) === true) {\n        console.log(\"IS AUTH\");\n        this.validUserName = JSON.parse(localStorage.getItem(\"log_user\"));\n      } else {\n        console.log(\"IS NOT AUTH\");\n      }\n    },\n    logout() {\n      localStorage.removeItem(\"isAuthenticates\");\n      localStorage.removeItem(\"log_user\");\n      localStorage.removeItem(\"token\");\n      this.authenticated = false;\n      // router.push('/');\n      window.location = \"/\";\n    },\n    home() {\n      window.location = \"/\";\n    },\n    register() {\n      router.push(\"/register\");\n    },\n    login() {\n      router.push(\"/auth\");\n    }\n  }\n};","map":{"version":3,"mappings":";AA4BA,OAAOA,MAAK,MAAO,UAAU;AAC7B,SAASC,UAAS,QAAS,mBAAmB;AAE9C,MAAMC,UAAS,GAAI,IAAID,UAAU,EAAE;AAEnC,eAAe;EACbE,IAAI,EAAE,KAAK;EACXC,KAAK,EAAE;IACLC,GAAG,EAAEC;EACP,CAAC;EACDC,IAAI,EAAE,OAAO;IACXC,aAAa,EAAE,KAAK;IACpBC,MAAM,EAAE,KAAK;IACbC,KAAK,EAAE,OAAO;IACdC,IAAI,EAAE;EACR,CAAC,CAAC;EACFC,OAAO,GAAG;IACR,IAAI,CAACC,QAAQ,EAAE;IACfX,UAAS,CACJY,YAAY,EAAC,CACbC,IAAI,CAAEC,QAAQ,IAAK;MAClB,IAAI,CAACR,aAAY,GAAI,IAAI;IAC3B,CAAC,EACAS,KAAK,CAAEC,KAAK,IAAK;MAChB,IAAIA,KAAK,CAACF,QAAQ,CAACG,MAAK,KAAM,GAAG,EAAE;QACjCC,YAAY,CAACC,UAAU,CAAC,iBAAiB,CAAC;QAC1CD,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC;QACnCD,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;QAChC,IAAI,CAACb,aAAY,GAAI,KAAK;MAC5B;IACF,CAAC,CAAC;IACNc,OAAO,CAACC,GAAG,CAAC,sBAAqB,GAAI,IAAI,CAACf,aAAa,CAAC;EAC1D,CAAC;EACDgB,OAAO,EAAE;IACPX,QAAQ,GAAG;MACT,IAAIO,YAAY,CAACK,OAAO,CAAC,iBAAiB,KACtCC,IAAI,CAACC,KAAK,CAACP,YAAY,CAACK,OAAO,CAAC,iBAAiB,CAAC,MAAM,IAAG,EAC/D;QACEH,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;QACtB,IAAI,CAACb,KAAI,GAAIgB,IAAI,CAACC,KAAK,CAACP,YAAY,CAACK,OAAO,CAAC,UAAU,CAAC,CAAC;MAC3D,OAAO;QACLH,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;MAC5B;MACA,IAAI,CAACZ,IAAG,GAAI,CAAC;QAAEiB,KAAK,EAAE,QAAQ;QAAEC,GAAG,EAAE;MAAc,CAAC,CAAC;IACvD,CAAC;IACHC,OAAO,GAAG;MACN,IACIV,YAAY,CAACK,OAAO,CAAC,iBAAiB,KACtCC,IAAI,CAACC,KAAK,CAACP,YAAY,CAACK,OAAO,CAAC,iBAAiB,CAAC,MAAM,IAAI,EAChE;QACEH,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;QACtB,IAAI,CAACQ,aAAY,GAAIL,IAAI,CAACC,KAAK,CAACP,YAAY,CAACK,OAAO,CAAC,UAAU,CAAC,CAAC;MACnE,OAAO;QACLH,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;MAC5B;IACF,CAAC;IACDS,MAAM,GAAG;MACPZ,YAAY,CAACC,UAAU,CAAC,iBAAiB,CAAC;MAC1CD,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC;MACnCD,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;MAChC,IAAI,CAACb,aAAY,GAAI,KAAK;MAC1B;MACAyB,MAAM,CAACC,QAAO,GAAI,GAAG;IACvB,CAAC;IACDC,IAAI,GAAG;MACLF,MAAM,CAACC,QAAO,GAAI,GAAG;IACvB,CAAC;IACDE,QAAQ,GAAG;MACTpC,MAAM,CAACqC,IAAI,CAAC,WAAW,CAAC;IAC1B,CAAC;IACDC,KAAK,GAAG;MACNtC,MAAM,CAACqC,IAAI,CAAC,OAAO,CAAC;IACtB;EACF;AACF","names":["router","APIService","apiService","name","props","msg","String","data","authenticated","dialog","uName","menu","mounted","fillMenu","getMovieList","then","response","catch","error","status","localStorage","removeItem","console","log","methods","getItem","JSON","parse","title","url","getUser","validUserName","logout","window","location","home","register","push","login"],"sourceRoot":"","sources":["E:\\Documents\\Education\\UNO\\Courses\\Spring 2023\\ISQA 4900\\Assignments\\Assignment 2\\movie-api\\movie-fe\\src\\App.vue"],"sourcesContent":["<template>\n    <!-- Nav Bar-->\n    <ul class=\"nav justify-content-center\">\n      <li class=\"nav-item active\">\n        <router-link to=\"/\">Home</router-link>\n        |\n      </li>\n      <li class=\"nav-item\">\n        <router-link :to=\"{name: 'MovieList'}\">Movies</router-link>\n      </li>\n      <li class=\"nav-item\" v-if=\"!authenticated\" @click=\"login\" >\n        |\n        <router-link :to=\"{name: 'Auth'}\">Log in</router-link>\n      </li>\n      <li class=\"nav-item\" v-if=\"!authenticated\" @click=\"register\">\n        |\n        <router-link :to=\"{name: 'Register'}\">Register</router-link>\n      </li>\n      <li class=\"nav-item .justify-content-end\" v-if=\"authenticated\" @click=\"logout\" >\n        |\n        <router-link :to=\"{name: 'Auth'}\">Logout</router-link>\n      </li>\n    </ul>\n  <router-view/>\n</template>\n\n<script>\n\nimport router from \"./router\";\nimport { APIService } from \"./http/APIService\";\n\nconst apiService = new APIService();\n\nexport default {\n  name: 'App',\n  props: {\n    msg: String\n  },\n  data: () => ({\n    authenticated: false,\n    dialog: false,\n    uName: \"Guest\",\n    menu: [],\n  }),\n  mounted() {\n    this.fillMenu();\n    apiService\n        .getMovieList()\n        .then((response) => {\n          this.authenticated = true;\n        })\n        .catch((error) => {\n          if (error.response.status === 401) {\n            localStorage.removeItem(\"isAuthenticates\");\n            localStorage.removeItem(\"log_user\");\n            localStorage.removeItem(\"token\");\n            this.authenticated = false;\n          }\n        });\n    console.log(\"this.authenticated--\" + this.authenticated);\n  },\n  methods: {\n    fillMenu() {\n      if (localStorage.getItem(\"isAuthenticates\") &&\n          JSON.parse(localStorage.getItem(\"isAuthenticates\")) === true )\n      {\n        console.log(\"IS AUTH\");\n        this.uName = JSON.parse(localStorage.getItem(\"log_user\"));\n      } else {\n        console.log(\"IS NOT AUTH\");\n      }\n      this.menu = [{ title: \"Movies\", url: \"/movie-list\" }];\n    },\n  getUser() {\n      if (\n          localStorage.getItem(\"isAuthenticates\") &&\n          JSON.parse(localStorage.getItem(\"isAuthenticates\")) === true)\n      {\n        console.log(\"IS AUTH\");\n        this.validUserName = JSON.parse(localStorage.getItem(\"log_user\"));\n      } else {\n        console.log(\"IS NOT AUTH\");\n      }\n    },\n    logout() {\n      localStorage.removeItem(\"isAuthenticates\");\n      localStorage.removeItem(\"log_user\");\n      localStorage.removeItem(\"token\");\n      this.authenticated = false;\n      // router.push('/');\n      window.location = \"/\";\n    },\n    home() {\n      window.location = \"/\";\n    },\n    register() {\n      router.push(\"/register\");\n    },\n    login() {\n      router.push(\"/auth\");\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\n  #app {\n    font-family: Avenir, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n  }\n\n  #nav {\n    padding: 30px;\n    background-color: cadetblue;\n\n    a\t{\n      font-weight: bold;\n      color: #2c3e50;\n\n      &.router-link-exact-active {\n        color: #42b983;\n      }\n    }\n  }\n  .nav {\n    padding: 1em;\n    background-color: cadetblue;\n\n    li {\n      font-weight: bold;\n      color: #2c3e50;\n    }\n\n    a {\n      color: black;\n      padding: .5em;\n\n      &.router-link-exact-active {\n        color: #42b983;\n      }\n    }\n  }\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}